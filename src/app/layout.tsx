import type { Metadata } from 'next'
import { Inter, Open_Sans } from 'next/font/google'
import './globals.css'
import NavIndex from '../components/features/header'
import Footer from '../components/features/footer'
import Toast from '@/components/ui/toast'
import Script from 'next/script'
// Verze 2: tRPC Provider replaces basic QueryClientProvider
import { TRPCProvider } from '@/lib/trpc/Provider'

const os = Open_Sans({ subsets: ['latin'] })

export const metadata: Metadata = {
    title: 'Create Next App',
    description: 'Generated by create next app',
}

export default function RootLayout({
    children,
}: Readonly<{
    children: React.ReactNode
}>) {
    return (
        <html lang="en">
            <Script src="node_modules/@material-tailwind/html@latest/scripts/dialog.js" />
            <body className={os.className}>
                <NavIndex />
                {/* Verze 2: tRPC Provider with React Query integration */}
                <TRPCProvider>
                    <main className="flex-grow w-screen mx-auto overflow-hidden bg-gray-100">
                        {children}
                    </main>
                </TRPCProvider>
                <Footer />
                <Toast />
            </body>
        </html>
    )
}
